##
# if get wacky extra lines try:
#jinja2: trim_blocks:True
#
# {{ ansible_managed }}
#
{% if domain -%} # -% left justify
    domain {{ domain }}
{% endif %}
{% for i in name_server %}
   nameserver {{ i }}
{% endfor %}
{%- if dns_options is iterable and dns_options -%}
    options {{ dns_options|join(" ") }} # this flattens list to one line: options timeout:2 attempts:1
    options {{ dns_options|join("\n") }} # this works better but ends up with this 
options timeout:2
attempts:1
{% endif %}

# -% left justifies 
{% if domain -%}
    domain {{ domain }}
{% endif %}
{% for i in name_server -%}
	nameserver {{ i }}
{% endfor %}
{% for i in dns_options -%}
	options {{ i }}
{% endfor %}

# Remove whitespace and new line. use "-" on the endfor 
{% for i in range(3) %}
  variable {{ i }}
{%- endfor %}

# loop an array var, see hello.yml
{% for item in myList %}
  {{ item }}
{% endfor %}

# LINKS
http://www.mydailytutorials.com/ansible-template-module-examples/


